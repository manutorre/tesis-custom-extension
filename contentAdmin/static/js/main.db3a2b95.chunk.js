(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,n){e.exports=n(236)},129:function(e,t,n){},230:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},231:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(9),o=n.n(r),s=(n(129),n(13)),l=n(14),u=n(21),c=n(18),d=n(20),h=n(10),m=n(245),g=n(239),f={cursor:"pointer",width:"100%",border:"1px solid",margin:"0 auto"},p=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generateMultiCard",value:function(e){var t=g.a.Meta,n=this.props.identificador,a=2===e?this.props.cantidad+" contents":"",r=this.generateStyles(e);return i.a.createElement(g.a,{key:e,style:r},i.a.createElement(t,{title:n,description:a}))}},{key:"generateCard",value:function(){var e=g.a.Meta,t=this.props.identificador,n=this.props.categoria;return this.props.available?i.a.createElement(g.a,{style:{width:"100%",border:"1px solid",margin:"0 auto"}},i.a.createElement(e,{title:t,description:n})):i.a.createElement(g.a,{style:{width:"100%",border:"1px solid",margin:"0 auto",backgroundColor:"red"}},i.a.createElement(e,{title:t,description:n}))}},{key:"generateFluxCard",value:function(){var e=g.a.Meta,t=this.props.identificador;return i.a.createElement(g.a,{style:f},i.a.createElement(e,{title:t,description:"Flux"}))}},{key:"generateStyles",value:function(e){return{position:"absolute",width:"100%",height:"95px",border:"1px solid",margin:"0 auto",top:10*e+"px",left:10*e+"px"}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{onClick:this.props.onClick,draggable:!this.props.flux,className:"multicard-container"},this.props.flux?this.generateFluxCard():this.props.cantidad>1?[0,1,2].map(function(t,n){return e.generateMultiCard(n)}):this.generateCard())}}]),t}(i.a.Component),k=n(235),v=n(238),y=n(50),b=n(241),C=n(86),O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={modalVisible:[],fluxInDiagram:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"addFluxToDiagram",value:function(e){this.props.addFluxToDiagram(e),this.setState({modalVisible:!1,fluxInDiagram:Object(y.a)({},e.name,!0)})}},{key:"renderModal",value:function(e){var t=this;return i.a.createElement(b.a,{key:e.name,title:"Contents of flux - "+e.name,visible:!0,onCancel:function(){return t.setState({modalVisible:!1})}},e.getOrderedContentsFromOrderField().map(function(e,t){return i.a.createElement("div",{key:t},e.getName())}),i.a.createElement(C.a,{type:"primary",onClick:function(){return t.addFluxToDiagram(e)},disabled:this.state.fluxInDiagram[e.name]},"Edit"))}},{key:"showContents",value:function(e){this.setState({modalVisible:Object(y.a)({},e,!0)})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.fluxes.map(function(t,n){return i.a.createElement("div",{key:n},e.state.modalVisible[n]&&e.renderModal(t),i.a.createElement(p,{disabled:e.state.fluxInDiagram[t.name],onClick:function(){return e.showContents(n)},flux:!0,key:n,identificador:t.name}))}))}}]),t}(i.a.Component),x=n(32),D=n.n(x),w=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={selectedItem:"",hiddenCards:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"selectCategory",value:function(e){var t=this;console.log(e),D.a.get("https://alexa-apirest.herokuapp.com/users/admin/contentsByCategory/"+e+"/gonza").then(function(n){if(n.data.length>0){var a=n.data;t.props.changeContents(a)}t.setState({selectedItem:e})})}},{key:"onContentDragEnd",value:function(e,t){if("none"!==e.dataTransfer.dropEffect){var n=this.state.hiddenCards;n.push(t.identificador),this.setState({hiddenCards:n}),""!==this.state.selectedItem?this.selectCategory(this.state.selectedItem):this.props.categories.length>0?this.selectCategory(this.props.categories[0]):this.selectCategory(D.a.get("https://alexa-apirest.herokuapp.com/users/getFirstCategory/gonza"))}}},{key:"onContentDragStart",value:function(e,t){e.dataTransfer.setData(JSON.stringify({contentId:t.contentId}),"contentId"),e.dataTransfer.setData(JSON.stringify({identificador:t.identificador}),"identificador"),e.dataTransfer.setData(JSON.stringify({categoria:t.categoria}),"categoria"),e.dataTransfer.setData(JSON.stringify({isNavegable:t.available}),"isNavegable")}},{key:"generateStyles",value:function(e){return{position:"relative",width:"80%",border:"1px solid",margin:"0 auto",top:"5px"}}},{key:"render",value:function(){var e=this,t=k.a.TabPane,n=v.a.Option,a=this.generateStyles();return i.a.createElement("div",{className:"no-assigned__cards__container"},i.a.createElement(k.a,null,i.a.createElement(t,{tab:"Contents",key:"1"},this.props.categories.length>0&&i.a.createElement("div",null,i.a.createElement("h3",{style:{color:"white",left:"10px"}}," Filter by category "),i.a.createElement(v.a,{value:this.state.selectedItem?this.state.selectedItem:void 0,placeholder:"Category",onChange:function(t){return e.selectCategory(t)},style:a},this.props.categories.map(function(e,t){return i.a.createElement(n,{key:t,value:e.toString()},e.toString())})),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null)),this.props.contents.map(function(t){return t.contenidos.map(function(t,n){return i.a.createElement("div",{key:n,onDragStart:function(n){return e.onContentDragStart(n,t)},onDragEnd:function(n){return e.onContentDragEnd(n,t)}},!e.state.hiddenCards.find(function(e){return e===t.identificador})&&i.a.createElement(p,{identificador:t.identificador,categoria:t.categoria,cantidad:t.siblingsId?t.siblingsId.length:null,available:t.available}))})})),i.a.createElement(t,{tab:"Fluxs",key:"2"},i.a.createElement(O,{fluxes:this.props.fluxes,addFluxToDiagram:this.props.addFluxToDiagram}))))}}]),t}(i.a.Component),L=n(89),E=n(120),j=n(16),N=n.n(j),S=n(243),T=n(244),F=n(246),I=n(242),M=n(240),R=n(15),V=n(237),A=function(){function e(t,n,a,i){Object(s.a)(this,e),this.name=t,this.idContent=n,this.category=a}return Object(l.a)(e,[{key:"getName",value:function(){return this.name}},{key:"getIdContent",value:function(){return this.idContent}},{key:"getCategory",value:function(){return this.category}},{key:"getIsNavegable",value:function(){return this.isNavegable}},{key:"setName",value:function(e){this.name=e}},{key:"setIdContent",value:function(e){this.idContent=e}},{key:"setCategory",value:function(e){this.category=e}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e}}]),e}(),J=function(e){function t(e,n,a,i){var r;return Object(s.a)(this,t),(r=Object(u.a)(this,Object(c.a)(t).call(this,e,n,a))).order=i,r}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getOrder",value:function(){return this.order}},{key:"setOrder",value:function(e){this.order=e}}]),t}(A),B=function(e){function t(e,n,a,i){var r;return Object(s.a)(this,t),(r=Object(u.a)(this,Object(c.a)(t).call(this,e,n,a))).isNavegable=i,r}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getisNavegable",value:function(){return this.isNavegable}},{key:"setIsNavegable",value:function(e){this.isNavegable=e}}]),t}(A),P=function(){function e(t,n){Object(s.a)(this,e),this.origin=t,this.destination=n}return Object(l.a)(e,[{key:"getOriginContent",value:function(){return this.origin}},{key:"getDestinationContent",value:function(){return this.destination}},{key:"setOriginContent",value:function(e){this.origin=e}},{key:"setDestinationContent",value:function(e){this.destination=e}}]),e}(),W=function(){function e(t,n,a){return Object(s.a)(this,e),this.name=t,this.contents=n?n.map(function(e){return new J(e.identificador,e.contentId,e.categoria,e.order)}):[],this.links=a||[],this}return Object(l.a)(e,[{key:"addLink",value:function(e){this.links.push(e)}},{key:"getLinks",value:function(){return this.links}},{key:"setLinks",value:function(e){this.links=e}},{key:"getContents",value:function(){return this.contents}},{key:"addContent",value:function(e){this.contents.push(e)}},{key:"setContents",value:function(e){this.contents=e}},{key:"removeContent",value:function(e){this.setContents(this.contents.filter(function(t){return t.getName().toLowerCase()!==e.toLowerCase()}))}},{key:"getOrderedContentsFromOrderField",value:function(){return this.contents.sort(function(e,t){return e.getOrder()-t.getOrder()})}},{key:"relink",value:function(e,t){var n=t.fromNode.data.key,a=t.toNode.data.key;this.links.filter(function(t){return t.destination===e&&t.origin===n}).length>0?this.removeLinkWithOriginAndDestination(n,e):this.links.filter(function(t){return t.origin===e&&t.destination===a}).length>0&&this.removeLinkWithOriginAndDestination(e,a),this.addLink(new P(n,a))}},{key:"removeLinkWithOriginAndDestination",value:function(e,t){this.setLinks(this.links.filter(function(n){return!(n.origin===e&&n.destination===t)}))}},{key:"removeLinkWithOrigin",value:function(e){this.setLinks(this.links.filter(function(t){return t.origin!==e}))}},{key:"removeLinkWithDestination",value:function(e){this.setLinks(this.links.filter(function(t){return t.destination!==e}))}},{key:"addLinkWithOriginAndDestination",value:function(e,t){this.addLink(new P(e,t))}},{key:"removeLink",value:function(e){this.setLinks(function(t){return t!==e})}},{key:"getOrderedLinksFromContentsOrder",value:function(){var e=this,t=[];return this.getOrderedContentsFromOrderField().map(function(n,a){if(e.getOrderedContentsFromOrderField()[a+1]){var i=n.getName(),r=e.getOrderedContentsFromOrderField()[a+1].getName();t.push(new P(i,r))}}),this.links=t,t}},{key:"getOrderedContentsFromLinks",value:function(){var e=this,t=this.getFirstContentFromLinks(),n=t,a=[t];return this.links.map(function(t){var i=e.getLinkWithOrigin(n);n=e.getContentByName(i.destination),a.push(n)}),a}},{key:"getFirstContentFromLinks",value:function(){var e=this;return this.contents.filter(function(t){return 0===e.links.filter(function(e){return e.destination.toLowerCase()===t.getName().toLowerCase()}).length&&1===e.links.filter(function(e){return e.origin.toLowerCase()===t.getName().toLowerCase()}).length})[0]}},{key:"getLinkWithOrigin",value:function(e){return this.links.filter(function(t){return t.origin.toLowerCase()===e.getName().toLowerCase()})[0]}},{key:"getContentByName",value:function(e){return this.contents.filter(function(t){return t.getName().toLowerCase()===e.toLowerCase()})[0]}}]),e}(),z=N.a.GraphObject.make,G=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).success=function(){S.a.success("A new flow was created!",3,function(){window.location.reload()})},n.error=function(){S.a.error("An error occurred when trying to create a new flow",3)},n.onChangeInputText=function(e){n.setState({inputValueText:e.target.value})},n.onChangeRadioLink=function(e){n.setState({valueRadioLink:e.target.value})},n.onChangeRadioNode=function(e){n.setState({valueRadioNode:e.target.value})},n.onChangeCheckNode=function(e){},n.onChangeCheckLink=function(e){n.setState({valueCheck:e.target.checked})},n.confirmNodeModal=function(){var e=n.state.temporaryContent;n.state.flux.getContentByName(e).setData({read:n.state.valueRadioNode}),n.setState({modalNodeVisible:!1,temporaryContent:null,valueRadioNode:null})},n.confirmLinkModal=function(){var e=n.state.temporaryLink;n.state.flux.getContentByName(e).setData({metainfo:n.state.inputValueText,next:n.state.valueRadioLink}),n.setState({modalLinkVisible:!1,inputValueText:null,temporaryLink:null})},n.renderCanvas=n.renderCanvas.bind(Object(h.a)(Object(h.a)(n))),n.state={keyForRerender:0,flux:null,temporaryContent:null,temporaryLink:null,valueRadioLink:null,valueRadioNode:null,valueCheck:!1,modalLinkVisible:!1,modalNodeVisible:!1,contents:[],myModel:null,myDiagram:null,loading:!1,success:null,error:null,modalVisible:!1,inputValue:null,inputValueText:null,showSend:!1,pattern:null,index:null,addedContents:[],patterns:["Read only titles","Read introduction and content"],infoPatterns:["Only the titles of the contents defined in the flow will be read continuously.","The titles of the defined contents will be read one at a time, giving the possibility to choose to read an introduction and then the rest of the content."]},n.onDiagramEnter=n.onDiagramEnter.bind(Object(h.a)(Object(h.a)(n))),n.onDiagramDrop=n.onDiagramDrop.bind(Object(h.a)(Object(h.a)(n))),n.onDragOver=n.onDragOver.bind(Object(h.a)(Object(h.a)(n))),n.sendData=n.sendData.bind(Object(h.a)(Object(h.a)(n))),n.renderCanvas=n.renderCanvas.bind(Object(h.a)(Object(h.a)(n))),n.showSendDataModal=n.showSendDataModal.bind(Object(h.a)(Object(h.a)(n))),n.onChangeInput=n.onChangeInput.bind(Object(h.a)(Object(h.a)(n))),n.generateNodeTemplate=n.generateNodeTemplate.bind(Object(h.a)(Object(h.a)(n))),n.generateLinkTemplate=n.generateLinkTemplate.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.shouldShowFlux===this.props.shouldShowFlux&&e.flux===this.props.flux||(this.addContentsManually(e.flux),console.log(this.state))}},{key:"componentDidMount",value:function(){this.renderCanvas()}},{key:"handlePattern",value:function(e){var t;switch(e){case"Read only titles":t=0;break;case"Read introduction and content":t=1;break;case"Read paragraph to paragraph":t=2}this.setState({pattern:e,index:t})}},{key:"generateNodeTemplate",value:function(){var e=this;return z(N.a.Node,"Auto",{doubleClick:function(t,n){var a=n.data.key;e.setState({modalNodeVisible:!0,temporaryContent:a})}},new N.a.Binding("location"),z(N.a.Shape,"RoundedRectangle",{portId:"",fromLinkable:!0,toLinkable:!0,toMaxLinks:1,fromMaxLinks:1,toLinkableSelfNode:!1},new N.a.Binding("fill","color")),z(N.a.TextBlock,{margin:6,font:"18px sans-serif"},new N.a.Binding("text","identificador")))}},{key:"generateLinkTemplate",value:function(){var e=this;return z(N.a.Link,{curve:N.a.Link.Bezier},{doubleClick:function(t,n){var a=n.toNode.data.key;e.setState({modalLinkVisible:!0,temporaryLink:a})}},{relinkableFrom:!0,relinkableTo:!0},z(N.a.Shape),z(N.a.Shape,{toArrow:"OpenTriangle",fill:null}))}},{key:"renderCanvas",value:function(){var e=this,t=z(N.a.TreeModel),n=z(N.a.Diagram,this.refs.goJsDiv,{initialContentAlignment:N.a.Spot.Center});n.addDiagramListener("LinkDrawn",function(t){e.state.flux.addLinkWithOriginAndDestination(t.subject.fromNode.data.key,t.subject.toNode.data.key),e.setState({keyForRerender:Math.random()})}),n.addDiagramListener("LinkRelinked",function(t){e.state.flux.relink(t.parameter.part.key,t.subject)}),n.addDiagramListener("SelectionDeleted",function(t){t.subject.first().Yd.from?(e.state.flux.removeLinkWithOriginAndDestination(t.subject.first().Yd.from,t.subject.first().Yd.to),e.setState({keyForRerender:Math.random()})):(e.state.flux.removeContent(t.subject.first().part.data.key),e.state.flux.removeLinkWithOrigin(t.subject.first().part.data.key),e.state.flux.removeLinkWithDestination(t.subject.first().part.data.key),e.setState({keyForRerender:Math.random()}))}),this.setModelAndDiagram(t,n)}},{key:"showSendDataModal",value:function(){this.setState({modalVisible:!0})}},{key:"sendData",value:function(){var e=this,t=this.state.flux.getOrderedContentsFromLinks();this.setState({loading:!0});var n={nombreConjunto:this.state.inputValue,pattern:this.state.pattern,contents:t};D.a.post("https://alexa-apirest.herokuapp.com/users/createFlow/user/gonza",n).then(function(){e.setState({loading:!1,success:"success",showSend:!1})}).catch(function(t){t.response&&t.response.data?e.setState({loading:!1,error:t.response.data},e.setState({error:null})):console.log(t)}),this.setState({modalVisible:!1})}},{key:"setModelAndDiagram",value:function(e,t){t.model=new N.a.GraphLinksModel([],[]),t.nodeTemplate=this.generateNodeTemplate(),t.linkTemplate=this.generateLinkTemplate(),t.validCycle=N.a.Diagram.CycleDestinationTree,this.setState({myModel:e,myDiagram:t})}},{key:"onDiagramEnter",value:function(e){e.preventDefault()}},{key:"getFluxContent",value:function(e){return new J(e.identificador,e.contentId,e.categoria,e.order)}},{key:"getDroppableContent",value:function(e){var t=JSON.parse(e[0].type),n=JSON.parse(e[1].type),a=JSON.parse(e[2].type),i=JSON.parse(e[3].type),r=Object(E.a)({},t,n,a,i);return new B(r.identificador,r.contentid,r.categoria,r.isnavegable)}},{key:"isNotInDiagram",value:function(e){return!this.state.addedContents.some(function(t){return JSON.stringify(t.getIdContent())===JSON.stringify(e.getIdContent())})}},{key:"doesLinkApplies",value:function(e,t){return!t.some(function(t){return e.origin.toLowerCase()===t.getName().toLowerCase()||e.destination.toLowerCase()===t.getName().toLowerCase()})}},{key:"addContentToGoJsDiagram",value:function(e,t,n){this.state.myDiagram.startTransaction("new node"),this.state.myDiagram.model.addNodeData({key:e.getName(),location:n,identificador:""!==t?t+" - "+e.getName():e.getName(),color:N.a.Brush.randomColor()}),this.state.myDiagram.commitTransaction("new node")}},{key:"addLinkToGoJsDiagram",value:function(e){this.state.myDiagram.startTransaction("new link"),this.state.myDiagram.model.addLinkDataCollection([{from:e.origin,to:e.destination}]),this.state.myDiagram.commitTransaction("new link")}},{key:"addContentsManually",value:function(e){var t=this,n=new W(e.name),a=this.state.addedContents;e.getOrderedContentsFromOrderField().map(function(a,i){if(t.isNotInDiagram(a)){n.addContent(a);var r=t.state.myDiagram.transformViewToDoc(new N.a.Point(300+100*i,100+100*i));t.addContentToGoJsDiagram(a,e.name,r),t.setState(function(e){return{addedContents:Object(L.a)(e.addedContents).concat([a])}})}}),e.getOrderedLinksFromContentsOrder().map(function(e){t.doesLinkApplies(e,a)&&(t.addLinkToGoJsDiagram(e),n.addLink(e))}),this.state.flux&&(this.state.flux.contents.map(function(e){return n.addContent(e)}),this.state.flux.links.map(function(e){return n.addLink(e)})),this.setState({flux:n,inputValue:e.name})}},{key:"calculateDroppedPoint",value:function(e){window.PIXELRATIO=this.state.myDiagram.computePixelRatio();var t=window.PIXELRATIO,n=e.target;if(n instanceof HTMLCanvasElement){var a=n.getBoundingClientRect(),i=a.width;0===i&&(i=.001);var r=a.height;0===r&&(r=.001);var o=e.clientX-a.left*(n.width/t/i),s=e.clientY-a.top*(n.height/t/r);return this.state.myDiagram.transformViewToDoc(new N.a.Point(o,s))}}},{key:"onDiagramDrop",value:function(e){var t=this.getDroppableContent(e.dataTransfer.items);if(this.isNotInDiagram(t)){if(null===this.state.flux){var n=new W("new flux");n.addContent(t),this.setState({flux:n})}else this.state.flux.addContent(t);var a=this.calculateDroppedPoint(e),i=this.state.contents;i.push(t),this.setState({contents:i}),this.addContentToGoJsDiagram(t,"",a),this.setState(function(e){return{addedContents:Object(L.a)(e.addedContents).concat([t])}})}}},{key:"onDragOver",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"onChangeInput",value:function(e){this.setState({inputValue:e.target.value})}},{key:"nodeModal",value:function(){var e=this,t={display:"block",height:"30px",lineHeight:"30px"},n=T.a.Group;return i.a.createElement(b.a,{title:"Node",centered:!0,visible:this.state.modalNodeVisible,onOk:this.confirmNodeModal,onCancel:function(){return e.setState({modalNodeVisible:!1,valueRadioNode:null,temporaryContent:null})}},i.a.createElement("div",null,i.a.createElement("p",null,"Reading:"),i.a.createElement(F.a,{onChange:this.onChangeCheckNode},"'Ask for browse'"),i.a.createElement("br",null),i.a.createElement(n,{onChange:this.onChangeRadioNode,value:this.state.valueRadioNode},i.a.createElement(T.a,{style:t,value:"Title"},"Only title"),i.a.createElement(T.a,{style:t,value:"All"},"Title,introduction and content"))))}},{key:"linkModal",value:function(){var e=this,t=T.a.Group,n={display:"block",height:"30px",lineHeight:"30px"};return i.a.createElement(b.a,{title:"Link",visible:this.state.modalLinkVisible,onOk:this.confirmLinkModal,onCancel:function(){return e.setState({modalLinkVisible:!1})}},i.a.createElement("div",null,i.a.createElement("p",null,"How to continue?"),i.a.createElement(F.a,{onChange:this.onChangeCheckLink},"Read text previosly",!0===this.state.valueCheck?i.a.createElement(I.a,{placeholder:"Insert text",onChange:this.onChangeInputText,style:{width:100,marginLeft:10}}):null),i.a.createElement("br",null),i.a.createElement(t,{onChange:this.onChangeRadioLink,value:this.state.valueRadioLink},i.a.createElement(T.a,{style:n,value:"Read directly"},"Read the next content directly"),i.a.createElement(T.a,{style:n,value:"Ask"},"Ask for reading next"))))}},{key:"submitModal",value:function(){var e=this,t=v.a.Option,n=M.a.Panel;return i.a.createElement(b.a,{title:"Confirm your action",visible:this.state.modalVisible,onOk:this.sendData,onCancel:function(){return e.setState({modalVisible:!1})}},i.a.createElement("div",null,"Please, enter a name for the set of contents to send",i.a.createElement(I.a,{value:this.state.inputValue,style:{width:"100px",marginLeft:"170px",marginTop:"20px"},onChange:this.onChangeInput}),i.a.createElement("p",null," Select a content reading pattern "),i.a.createElement(v.a,{value:this.state.pattern?this.state.pattern:void 0,placeholder:"Content reading pattern",onChange:function(t){return e.handlePattern(t)},style:{width:"230px",marginLeft:"130px"}},this.state.patterns.map(function(e,n){return i.a.createElement(t,{key:n,value:e},e)})),this.state.pattern&&i.a.createElement(M.a,{bordered:!1,defaultActiveKey:["1"],expandIcon:function(e){var t=e.isActive;return i.a.createElement(R.a,{type:"caret-right",rotate:t?90:0}," ")}},i.a.createElement(n,{header:this.state.pattern,key:"1",style:{background:"#f7f7f7",borderRadius:4,marginBottom:24,border:0,overflow:"hidden",marginTop:"20px"}},i.a.createElement("p",{style:{paddingLeft:24}}," ",this.state.infoPatterns[this.state.index]," ")))))}},{key:"render",value:function(){console.log(this.state.flux);return i.a.createElement("div",null,this.state.loading&&i.a.createElement("div",{className:"example"},i.a.createElement(V.a,{className:"diagram-spin",size:"large"})),i.a.createElement("div",{onDragEnter:this.onDiagramEnter,className:"diagram",onDrop:this.onDiagramDrop,onDragOver:this.onDragOver},i.a.createElement("div",{ref:"goJsDiv",style:{width:"116%",height:"874px",backgroundColor:"white",marginLeft:"-16%"}})),i.a.createElement("div",{className:"sendButtonContainer"},this.state.success?this.success():null,i.a.createElement(C.a,{className:"sendButton",onClick:this.showSendDataModal,key:this.state.keyForRerender,disabled:!this.state.flux||this.state.flux&&this.state.flux.contents.length!==this.state.flux.links.length+1},"Deploy to skill"),this.state.error&&this.error()),this.nodeModal(),this.linkModal(),this.submitModal())}}]),t}(a.Component),H=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={showFluxContent:!1,diagramFluxId:!1,categories:[],contents:[],fluxes:[]},n.changeContents=n.changeContents.bind(Object(h.a)(Object(h.a)(n))),n.addFluxToDiagram=n.addFluxToDiagram.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;D.a.get("https://alexa-apirest.herokuapp.com/users/categories/gonza").then(function(t){t.data.length>0&&e.setState({categories:t.data})}),D.a.get("https://alexa-apirest.herokuapp.com/users/admin/contentsByFirstCategory/gonza").then(function(t){t.data.length>0&&e.setState({contents:t.data})}),D.a.get("https://alexa-apirest.herokuapp.com/users/admin/contentsAndFlows/gonza").then(function(t){var n;t.data.length>0&&(n=t.data.map(function(e){return new W(e._id,e.contenidos)})),e.setState({fluxes:n})})}},{key:"changeContents",value:function(e){this.setState({contents:e})}},{key:"addFluxToDiagram",value:function(e){this.setState({showFluxContent:!0,diagramFlux:e})}},{key:"render",value:function(){var e=m.a.Header,t=m.a.Sider,n=m.a.Content;return i.a.createElement("div",null,i.a.createElement(m.a,{style:{height:"1000px"}},i.a.createElement(t,null,this.state.contents.length>0&&i.a.createElement(w,{changeContents:this.changeContents,contents:this.state.contents,fluxes:this.state.fluxes,addFluxToDiagram:this.addFluxToDiagram,categories:this.state.categories})),i.a.createElement(m.a,null,i.a.createElement(e,{style:{color:"white",fontSize:"20px"}},"Skill contents administrator"),i.a.createElement(n,null,i.a.createElement(G,{shouldShowFlux:this.state.showFluxContent,flux:this.state.diagramFlux}))),i.a.createElement(t,null)))}}]),t}(i.a.Component),_=(n(230),n(231),n(233),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(H,null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[124,2,1]]]);
//# sourceMappingURL=main.db3a2b95.chunk.js.map