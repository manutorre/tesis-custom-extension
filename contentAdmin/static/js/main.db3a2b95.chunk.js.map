{"version":3,"sources":["logo.svg","components/MultiCard.js","components/FluxTab.js","components/LeftPanel.js","classes/Content.js","classes/FluxContent.js","classes/DroppableContent.js","classes/Link.js","classes/Flux.js","components/Diagram.js","components/ContentAdmin.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","fluxCard","cursor","width","border","margin","MultiCard","index","Meta","Card","title","this","props","identificador","description","cantidad","styles","generateStyles","react_default","a","createElement","card","key","style","categoria","available","backgroundColor","position","height","top","left","_this","onClick","draggable","flux","className","generateFluxCard","map","number","generateMultiCard","generateCard","React","Component","FluxTab","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","modalVisible","fluxInDiagram","addFluxToDiagram","setState","defineProperty","name","_this2","modal","visible","onCancel","getOrderedContentsFromOrderField","content","i","getName","es_button","type","disabled","_this3","fluxes","renderModal","MultiCard_MultiCard","showContents","LeftPanel","selectedItem","hiddenCards","value","console","log","axios","get","then","response","data","length","contents","changeContents","event","dataTransfer","dropEffect","push","selectCategory","categories","setData","JSON","stringify","contentId","isNavegable","TabPane","Tabs","Option","Select","tabs","tab","color","es_select","undefined","placeholder","onChange","e","category","toString","datos","contenidos","onDragStart","onContentDragStart","onDragEnd","onContentDragEnd","find","hiddenCard","siblingsId","FluxTab_FluxTab","Content","idContent","FluxContent","order","DroppableContent","Link","origin","destination","Flux","links","link","setContents","filter","toLowerCase","sort","content1","content2","getOrder","discardedNodeKey","subject","subjectFromLinkKey","fromNode","subjectToLinkKey","toNode","removeLinkWithOriginAndDestination","addLink","from","to","setLinks","fluxLink","firstContent","getFirstContentFromLinks","nextContent","orderedContents","auxLink","getLinkWithOrigin","getContentByName","goObj","go","GraphObject","make","GoJs","success","message","window","location","reload","error","onChangeInputText","inputValueText","target","onChangeRadioLink","valueRadioLink","onChangeRadioNode","valueRadioNode","onChangeCheckNode","checkedValue","onChangeCheckLink","valueCheck","checked","confirmNodeModal","contentNode","temporaryContent","read","modalNodeVisible","confirmLinkModal","temporaryLink","metainfo","next","modalLinkVisible","renderCanvas","bind","assertThisInitialized","keyForRerender","myModel","myDiagram","loading","inputValue","showSend","pattern","addedContents","patterns","infoPatterns","onDiagramEnter","onDiagramDrop","onDragOver","sendData","showSendDataModal","onChangeInput","generateNodeTemplate","generateLinkTemplate","shouldShowFlux","addContentsManually","handlerThis","Node","doubleClick","node","Binding","Shape","portId","fromLinkable","toLinkable","toMaxLinks","fromMaxLinks","toLinkableSelfNode","TextBlock","font","curve","Bezier","relinkableFrom","relinkableTo","toArrow","fill","model","TreeModel","diagram","Diagram","refs","goJsDiv","initialContentAlignment","Spot","Center","addDiagramListener","ev","addLinkWithOriginAndDestination","Math","random","relink","parameter","part","first","Yd","removeContent","removeLinkWithOrigin","removeLinkWithDestination","setModelAndDiagram","getOrderedContentsFromLinks","contentsToSend","nombreConjunto","post","catch","GraphLinksModel","nodeTemplate","linkTemplate","validCycle","CycleDestinationTree","preventDefault","properties","parsedContent1","parse","parsedContent2","parsedContent3","parsedContent4","objectSpread","contentid","isnavegable","some","addedContent","getIdContent","oldContents","fluxName","point","startTransaction","addNodeData","Brush","randomColor","commitTransaction","addLinkDataCollection","_this4","newFlux","isNotInDiagram","addContent","transformViewToDoc","Point","addContentToGoJsDiagram","prevState","toConsumableArray","concat","getOrderedLinksFromContentsOrder","doesLinkApplies","addLinkToGoJsDiagram","PIXELRATIO","computePixelRatio","pixelratio","can","HTMLCanvasElement","bbox","getBoundingClientRect","bbw","bbh","mx","clientX","my","clientY","getDroppableContent","items","calculateDroppedPoint","stopPropagation","_this5","radioStyle","display","lineHeight","RadioGroup","Radio","Group","centered","onOk","es_checkbox","es_radio","_this6","input","marginLeft","_this7","Panel","Collapse","marginTop","handlePattern","collapse","bordered","defaultActiveKey","expandIcon","_ref","isActive","icon","rotate","header","background","borderRadius","marginBottom","overflow","paddingLeft","spin","size","onDragEnter","onDrop","ref","nodeModal","linkModal","submitModal","ContentAdmin","showFluxContent","diagramFluxId","_id","newContents","diagramFlux","Header","Layout","Sider","layout","LeftPanel_LeftPanel","fontSize","Diagram_GoJs","App","ContentAdmin_ContentAdmin","Boolean","hostname","match","ReactDOM","render","src_components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.db3a2b95.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\r\nimport { Card } from 'antd';\r\n\r\n\r\nlet fluxCard = { \r\n  cursor:\"pointer\", \r\n  width:\"100%\",\r\n  border:\"1px solid\", \r\n  margin:\"0 auto\" \r\n}\r\n\r\nexport default class MultiCard extends React.Component{\r\n\r\n  generateMultiCard(index){\r\n    const { Meta } = Card;\r\n    const title = this.props.identificador //index === this.props.cantidad ? this.props.identificador : \"\"\r\n    const description = index === 2 ? (this.props.cantidad + \" contents\") : \"\"\r\n    const styles = this.generateStyles(index)\r\n    return(\r\n      <Card key={index} style={styles}>\r\n        <Meta title={title} description={description} />\r\n      </Card>\r\n    )\r\n  }\r\n  \r\n  generateCard(){\r\n    const { Meta } = Card;\r\n    const title = this.props.identificador;\r\n    const description = this.props.categoria;\r\n    var isAvailable = this.props.available\r\n    return(\r\n      (isAvailable) ?\r\n      <Card style={{ width:\"100%\",border:\"1px solid\", margin:\"0 auto\" }}>\r\n        <Meta title={title} description={description}/>\r\n      </Card>\r\n      :\r\n      <Card style={{ width:\"100%\",border:\"1px solid\", margin:\"0 auto\", backgroundColor: \"red\" }}>\r\n        <Meta title={title} description={description}/>\r\n      </Card>\r\n    )\r\n  }\r\n  \r\n  generateFluxCard(){\r\n    const { Meta } = Card;\r\n    const title = this.props.identificador;\r\n    const description = \"Flux\";\r\n    return(\r\n        <Card \r\n          style={fluxCard}>\r\n          <Meta title={title} description={description}/>\r\n        </Card>\r\n    )\r\n  }\r\n\r\n  generateStyles(index){\r\n    return(\r\n      {\r\n        position:\"absolute\",\r\n        width:\"100%\",\r\n        height:\"95px\",\r\n        border:\"1px solid\",\r\n        margin:\"0 auto\",\r\n        top:(10 * index) + \"px\",\r\n        left:(10 * index) + \"px\"\r\n      }   \r\n    ) \r\n  }\r\n  \r\n\r\n  render(){\r\n    return(\r\n      <div onClick={this.props.onClick} draggable={!this.props.flux} className=\"multicard-container\">\r\n        {this.props.flux ? \r\n          this.generateFluxCard()\r\n        :\r\n        this.props.cantidad > 1 ?\r\n          [0,1,2].map((number,index) => \r\n            this.generateMultiCard(index)\r\n          )\r\n        :\r\n          this.generateCard()\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React from 'react'\r\nimport MultiCard from \"./MultiCard.js\"\r\nimport {Modal,Button} from 'antd'\r\n\r\nexport default class FluxTab extends React.Component{\r\n\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = { \r\n      modalVisible:[],\r\n      fluxInDiagram:[]\r\n    }\r\n  }\r\n\r\n  addFluxToDiagram(flux){\r\n    this.props.addFluxToDiagram(flux);\r\n    this.setState({\r\n      modalVisible:false,\r\n      fluxInDiagram:{\r\n        [flux.name]:true\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  renderModal(flux){\r\n    return(\r\n      <Modal\r\n        key={flux.name}\r\n        title={\"Contents of flux - \" + flux.name}\r\n        visible={true}\r\n        onCancel={() => this.setState({modalVisible:false})}\r\n      >\r\n        {flux.getOrderedContentsFromOrderField().map( (content,i) => \r\n          <div key={i}>{content.getName()}</div>\r\n        )}\r\n        <Button \r\n          type=\"primary\" \r\n          onClick={() => this.addFluxToDiagram(flux)}\r\n          disabled={this.state.fluxInDiagram[flux.name]}\r\n        >\r\n          Edit\r\n        </Button>\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  showContents(index){\r\n    this.setState({\r\n      modalVisible:{\r\n        [index]:true\r\n      }\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        {this.props.fluxes.map( (flux,i) =>\r\n          <div key={i}> \r\n            {this.state.modalVisible[i] && this.renderModal(flux)}\r\n            <MultiCard\r\n              disabled={this.state.fluxInDiagram[flux.name]}\r\n              onClick={() => this.showContents(i)}\r\n              flux={true}\r\n              key={i}\r\n              identificador={flux.name}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}","import React from 'react'\r\nimport MultiCard from \"./MultiCard.js\"\r\nimport { Tabs, Select } from 'antd';\r\nimport FluxTab from './FluxTab.js';\r\nimport axios from 'axios'\r\n\r\n\r\nexport default class LeftPanel extends React.Component {\r\n  constructor(props){\r\n      super(props)\r\n      this.state = {\r\n        selectedItem:\"\",\r\n        hiddenCards:[]\r\n      }\r\n  }\r\n\r\n  selectCategory(value){\r\n    console.log(value)\r\n    axios.get(\"https://alexa-apirest.herokuapp.com/users/admin/contentsByCategory/\"+value+\"/gonza\")\r\n    .then( (response) => {\r\n      if (response.data.length > 0) {\r\n            let contents = response.data\r\n            //let contentsFilter = contents.filter((elem)=> !this.state.hiddenCards.includes(elem.contenidos[0].identificador) )\r\n            //let index = contentsFilter.indexOf(this.props.manager.getContentById(idContent))\r\n            //contents = contentsFilter.splice(index,1)\r\n            this.props.changeContents(contents);\r\n      }\r\n      this.setState({\r\n        selectedItem:value\r\n      })  \r\n    });\r\n  }\r\n\r\n  onContentDragEnd(event,content){ \r\n    if(event.dataTransfer.dropEffect !== 'none'){\r\n      //event.target.parentNode.style.display = \"none\"\r\n      var hiddenCards = this.state.hiddenCards\r\n      hiddenCards.push(content.identificador)\r\n      this.setState({\r\n        hiddenCards: hiddenCards\r\n      })\r\n      \r\n      if(this.state.selectedItem !== \"\"){ \r\n        this.selectCategory(this.state.selectedItem) //Si todavia no asigno categoria, mandar la que es por defecto\r\n      }\r\n      else{ //Mandar la primera\r\n        if(this.props.categories.length > 0)\r\n          this.selectCategory(this.props.categories[0]) \r\n        else\r\n          this.selectCategory(axios.get(\"https://alexa-apirest.herokuapp.com/users/getFirstCategory/gonza\")) \r\n      } \r\n    } \r\n  }\r\n\r\n\r\n  onContentDragStart(event,content){\r\n    event.dataTransfer.setData(JSON.stringify({contentId:content.contentId}), 'contentId');\r\n    event.dataTransfer.setData(JSON.stringify({identificador:content.identificador}), 'identificador');\r\n    event.dataTransfer.setData(JSON.stringify({categoria:content.categoria}), 'categoria');\r\n    event.dataTransfer.setData(JSON.stringify({isNavegable:content.available}), 'isNavegable');      \r\n  }\r\n\r\n  generateStyles(index){\r\n    return(\r\n      {\r\n        position:\"relative\",\r\n        width:\"80%\",\r\n        //height:\"95px\",\r\n        border:\"1px solid\",\r\n        margin:\"0 auto\",\r\n        //bottom:\"40px\",\r\n        top:\"5px\"\r\n      }   \r\n    ) \r\n  }\r\n\r\n  render(){\r\n    const TabPane = Tabs.TabPane;\r\n    const {Option} = Select\r\n    const styles = this.generateStyles()\r\n    return(\r\n      <div className=\"no-assigned__cards__container\">\r\n        <Tabs>\r\n          <TabPane tab=\"Contents\" key=\"1\">\r\n            {this.props.categories.length > 0 &&\r\n              <div>\r\n              <h3 style={{color:\"white\",left:\"10px\"}}> Filter by category </h3>\r\n              <Select value={this.state.selectedItem? this.state.selectedItem : undefined}  placeholder=\"Category\" \r\n                  onChange={(e) =>this.selectCategory(e)} style={styles}>\r\n                  {this.props.categories.map( (category, index) => {\r\n                    return(\r\n                        <Option \r\n                          key={index} \r\n                          value={category.toString()}>\r\n                            {category.toString()}\r\n                        </Option>\r\n                        )\r\n                    })\r\n                  }\r\n              </Select>\r\n              <br/>\r\n              <br/>\r\n              <br/>\r\n              </div>\r\n            }\r\n            \r\n            {this.props.contents.map((datos) =>\r\n              datos.contenidos.map( (content,index) => \r\n                <div\r\n                key={index} \r\n                onDragStart={(e) => this.onContentDragStart(e,content)} \r\n                onDragEnd={(e) => this.onContentDragEnd(e,content)}\r\n                >\r\n                  {!this.state.hiddenCards.find(hiddenCard => hiddenCard === content.identificador) &&\r\n                    <MultiCard  \r\n                      identificador={content.identificador} \r\n                      categoria={content.categoria}\r\n                      cantidad={content.siblingsId ? content.siblingsId.length : null}\r\n                      available={content.available} \r\n                    />\r\n                  }\r\n                </div>\r\n              )\r\n            )}\r\n          </TabPane>\r\n          <TabPane tab=\"Fluxs\" key=\"2\">\r\n              <FluxTab \r\n                fluxes={this.props.fluxes}\r\n                addFluxToDiagram={this.props.addFluxToDiagram}  \r\n              />\r\n          </TabPane>          \r\n        </Tabs>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","export default class Content {\r\n\r\n  constructor(name, idContent, category, data){\r\n    this.name = name;\r\n    this.idContent = idContent\r\n    this.category = category\r\n  }\r\n\r\n  getName(){\r\n    return this.name\r\n  }\r\n\r\n  getIdContent(){\r\n    return this.idContent\r\n  }\r\n\r\n  getCategory(){\r\n    return this.category\r\n  }\r\n\r\n  getIsNavegable(){\r\n    return this.isNavegable\r\n  }  \r\n\r\n  setName(name){\r\n    this.name = name;\r\n  }\r\n\r\n  setIdContent(idContent){\r\n    this.idContent = idContent;\r\n  }\r\n\r\n  setCategory(category){\r\n    this.category = category;\r\n  }\r\n\r\n  getData(){\r\n    return this.data\r\n  }  \r\n\r\n  setData(data){\r\n    this.data = data;\r\n  }\r\n\r\n}","import Content from './Content'\r\nexport default class FluxContent extends Content {\r\n    constructor(name, idContent, category, order){\r\n        super(name, idContent, category)\r\n        this.order = order\r\n    }\r\n\r\n    getOrder(){\r\n        return this.order\r\n    }\r\n\r\n    setOrder(order){\r\n        this.order = order\r\n    }\r\n\r\n} ","import Content from './Content'\r\nexport default class DroppableContent extends Content {\r\n    constructor(name, idContent, category, isNavegable){\r\n        super(name, idContent, category)\r\n        this.isNavegable = isNavegable\r\n    }\r\n\r\n    getisNavegable(){\r\n        return this.isNavegable\r\n    }\r\n\r\n    setIsNavegable(isNavegable){\r\n        this.isNavegable = isNavegable\r\n    }\r\n\r\n} ","export default class Link {\r\n\r\n  constructor(origin, destination){\r\n    this.origin = origin;\r\n    this.destination = destination;\r\n  }\r\n\r\n  getOriginContent(){\r\n    return this.origin;\r\n  }\r\n\r\n  getDestinationContent(){\r\n    return this.destination;\r\n  }\r\n\r\n  setOriginContent(content){\r\n    this.origin = content;\r\n  }\r\n\r\n  setDestinationContent(content){\r\n    this.destination = content;\r\n  }\r\n\r\n}","import Link from './Link'\r\nimport FluxContent from './FluxContent';\r\n\r\nexport default class Flux {\r\n\r\n  constructor(name, contents, links){\r\n    this.name = name;\r\n    this.contents = contents ? contents.map(content => new FluxContent(content.identificador, content.contentId, content.categoria, content.order)) : [];\r\n    this.links = links ? links : []\r\n    return this;\r\n  }\r\n\r\n  addLink(link){\r\n    this.links.push(link)\r\n  }\r\n\r\n  getLinks(){\r\n    return this.links;\r\n  }\r\n    \r\n  setLinks(links){\r\n    this.links = links\r\n  }\r\n\r\n  getContents(){\r\n    return this.contents\r\n  }\r\n\r\n  addContent(content){\r\n    this.contents.push(content)\r\n  }\r\n\r\n  setContents(contents){\r\n    this.contents = contents\r\n  }\r\n\r\n  removeContent(identificador){\r\n    this.setContents(this.contents.filter(content => content.getName().toLowerCase() !== identificador.toLowerCase()))\r\n  }\r\n\r\n\r\n  getOrderedContentsFromOrderField(){\r\n    return this.contents.sort((content1,content2) => {return content1.getOrder() - content2.getOrder()})\r\n  }\r\n\r\n  relink(discardedNodeKey, subject){\r\n    let subjectFromLinkKey = subject.fromNode.data.key\r\n    let subjectToLinkKey = subject.toNode.data.key\r\n    if (this.links.filter(link => link.destination === discardedNodeKey && link.origin === subjectFromLinkKey).length > 0) {\r\n      this.removeLinkWithOriginAndDestination(subjectFromLinkKey, discardedNodeKey)\r\n    }\r\n    else{\r\n      if (this.links.filter(link => link.origin === discardedNodeKey && link.destination === subjectToLinkKey).length > 0){\r\n        this.removeLinkWithOriginAndDestination(discardedNodeKey, subjectToLinkKey)\r\n      }\r\n    }\r\n    this.addLink(new Link(subjectFromLinkKey, subjectToLinkKey))\r\n  }  \r\n\r\n  removeLinkWithOriginAndDestination(from, to){\r\n    this.setLinks(this.links.filter(link => !(link.origin === from && link.destination === to)))\r\n  }\r\n\r\n  removeLinkWithOrigin(from){\r\n    this.setLinks(this.links.filter(link => link.origin !== from))\r\n  }\r\n\r\n  removeLinkWithDestination(to){\r\n    this.setLinks(this.links.filter(link => link.destination !== to))\r\n  }  \r\n\r\n  addLinkWithOriginAndDestination(from, to){\r\n    this.addLink(new Link(from, to))\r\n  }\r\n\r\n  removeLink(link){\r\n    this.setLinks(fluxLink => fluxLink !== link)\r\n  }\r\n\r\n  getOrderedLinksFromContentsOrder(){\r\n    let links = []\r\n    this.getOrderedContentsFromOrderField().map( (content,i) => {\r\n      if (this.getOrderedContentsFromOrderField()[i + 1]) {\r\n        let origin = content.getName()\r\n        let destination = this.getOrderedContentsFromOrderField()[i + 1].getName()\r\n        links.push(new Link(origin, destination))\r\n      }\r\n    })\r\n    this.links = links\r\n    return links\r\n  }\r\n\r\n\r\n  //when the flux edition is done, the order of the contents is determined by the links, not by the contents array order.\r\n\r\n\r\n  getOrderedContentsFromLinks(){\r\n    let firstContent = this.getFirstContentFromLinks();\r\n    let nextContent = firstContent;\r\n    let orderedContents = [firstContent]\r\n    this.links.map( link => {\r\n      let auxLink = this.getLinkWithOrigin(nextContent);\r\n      nextContent = this.getContentByName(auxLink.destination);\r\n      orderedContents.push(nextContent);\r\n    })\r\n    return orderedContents;    \r\n  }\r\n\r\n  getFirstContentFromLinks(){ //returns the content that is no destination for any link but that is origin of one. contents out of the flow are ignored\r\n    return this.contents.filter( content => {\r\n      return this.links.filter( link => link.destination.toLowerCase() === content.getName().toLowerCase()).length === 0 &&\r\n             this.links.filter( link => link.origin.toLowerCase() === content.getName().toLowerCase()).length === 1\r\n    })[0];\r\n  }\r\n\r\n  getLinkWithOrigin(content){\r\n    return this.links.filter(link => link.origin.toLowerCase() === content.getName().toLowerCase())[0]\r\n  }\r\n\r\n  getContentByName(contentId){\r\n    return this.contents.filter(content => content.getName().toLowerCase() === contentId.toLowerCase())[0]\r\n  }\r\n\r\n}","import React, {Component} from 'react';\r\nimport go from 'gojs';\r\nimport {Button, Spin, Modal, Input, Select, Collapse, Icon, message,Checkbox, Radio} from 'antd'\r\nimport axios from 'axios'\r\nimport FluxContent from '../classes/FluxContent';\r\nimport DroppableContent from '../classes/DroppableContent';\r\nimport Flux from '../classes/Flux';\r\nconst goObj = go.GraphObject.make;\r\n\r\nexport default class GoJs extends Component {\r\n\r\n  constructor (props) {\r\n    super (props);\r\n    this.renderCanvas = this.renderCanvas.bind (this);\r\n    this.state = {\r\n      keyForRerender:0,\r\n      flux:null,\r\n      temporaryContent:null,\r\n      temporaryLink:null,\r\n      valueRadioLink:null,\r\n      valueRadioNode:null,\r\n      valueCheck:false,\r\n      modalLinkVisible:false,\r\n      modalNodeVisible:false,\r\n      contents:[],\r\n      myModel: null, \r\n      myDiagram: null,\r\n      loading:false,\r\n      success:null,\r\n      error:null,\r\n      modalVisible:false,\r\n      inputValue:null,\r\n      inputValueText:null,\r\n      showSend:false,\r\n      pattern:null,\r\n      index:null,\r\n      addedContents:[],\r\n      patterns:[\"Read only titles\",\"Read introduction and content\"],//,\"Read paragraph to paragraph\"\r\n      infoPatterns:[\"Only the titles of the contents defined in the flow will be read continuously.\"\r\n      ,\"The titles of the defined contents will be read one at a time, giving the possibility to choose to read an introduction and then the rest of the content.\"\r\n      ] //,\"The body of the contents will be read paragraph by paragraph.\"\r\n    }\r\n    this.onDiagramEnter = this.onDiagramEnter.bind(this)\r\n    this.onDiagramDrop = this.onDiagramDrop.bind(this)\r\n    this.onDragOver = this.onDragOver.bind(this)\r\n    this.sendData = this.sendData.bind(this)\r\n    this.renderCanvas = this.renderCanvas.bind(this)\r\n    this.showSendDataModal = this.showSendDataModal.bind(this)\r\n    this.onChangeInput = this.onChangeInput.bind(this)\r\n    this.generateNodeTemplate = this.generateNodeTemplate.bind(this)\r\n    this.generateLinkTemplate= this.generateLinkTemplate.bind(this)\r\n  }\r\n\r\n  componentWillReceiveProps(props){\r\n    if (props.shouldShowFlux !== this.props.shouldShowFlux || props.flux !== this.props.flux) {\r\n      this.addContentsManually(props.flux);\r\n      console.log(this.state)\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.renderCanvas ();\r\n  }\r\n\r\n  handlePattern(pattern){\r\n    var index;\r\n    switch(pattern){\r\n      case \"Read only titles\":\r\n        index = 0\r\n      break;\r\n      case \"Read introduction and content\":\r\n        index = 1\r\n      break;\r\n      case \"Read paragraph to paragraph\":\r\n        index = 2\r\n      break;\r\n    }\r\n\r\n    this.setState({pattern,index})\r\n  }\r\n\r\n  generateNodeTemplate(){\r\n    var handlerThis = this;\r\n    let nodeTemplate = goObj(\r\n      go.Node,\r\n     \"Auto\",\r\n      {\r\n        doubleClick: function(e, node) {\r\n            // node is the Node that was double-clicked\r\n            let data = node.data;\r\n            let key = data.key\r\n            handlerThis.setState({\r\n              modalNodeVisible:true,\r\n              temporaryContent:key\r\n            })\r\n        }\r\n      },\r\n      new go.Binding('location'),\r\n      goObj(\r\n        go.Shape, \"RoundedRectangle\",\r\n        {\r\n          portId: \"\", \r\n          fromLinkable: true, \r\n          toLinkable: true,\r\n          toMaxLinks:1,\r\n          fromMaxLinks:1,\r\n          toLinkableSelfNode: false\r\n        },\r\n        new go.Binding(\"fill\", \"color\")\r\n      ),\r\n      goObj(\r\n        go.TextBlock,\r\n        { margin: 6, font: \"18px sans-serif\" },\r\n        new go.Binding(\"text\", \"identificador\")\r\n      )\r\n    )\r\n    return nodeTemplate;    \r\n  }\r\n\r\n  generateLinkTemplate(){\r\n    var handlerThis = this;\r\n    let linkTemplate = goObj(go.Link,\r\n      { curve: go.Link.Bezier },\r\n      {\r\n        doubleClick: function(e, link) {\r\n            // node is the Node that was double-clicked\r\n            let key = link.toNode.data.key;\r\n            handlerThis.setState({\r\n              modalLinkVisible:true,\r\n              temporaryLink:key\r\n            })\r\n        }\r\n      },\r\n      {relinkableFrom: true, relinkableTo: true},\r\n      goObj(go.Shape),  // the link shape\r\n      goObj(go.Shape,   // the arrowhead\r\n        { toArrow: \"OpenTriangle\", fill: null })\r\n    );\r\n    return linkTemplate\r\n  }\r\n\r\n\r\n  renderCanvas () {\r\n    let model = goObj(go.TreeModel)\r\n    let diagram = goObj(go.Diagram, this.refs.goJsDiv, {initialContentAlignment: go.Spot.Center});\r\n    diagram.addDiagramListener(\"LinkDrawn\", (ev) => {\r\n      this.state.flux.addLinkWithOriginAndDestination(ev.subject.fromNode.data.key, ev.subject.toNode.data.key);\r\n      this.setState({keyForRerender:Math.random()})\r\n    })\r\n    diagram.addDiagramListener(\"LinkRelinked\", (ev) => {\r\n      this.state.flux.relink(ev.parameter.part.key, ev.subject) // first param is the discarded node of the link, the second is the one that remains\r\n    })\r\n    diagram.addDiagramListener(\"SelectionDeleted\", (ev) => {\r\n      if (ev.subject.first().Yd.from) {\r\n        this.state.flux.removeLinkWithOriginAndDestination(ev.subject.first().Yd.from, ev.subject.first().Yd.to)      \r\n        this.setState({keyForRerender:Math.random()})\r\n      }\r\n      else{\r\n        this.state.flux.removeContent(ev.subject.first().part.data.key)\r\n        this.state.flux.removeLinkWithOrigin(ev.subject.first().part.data.key)\r\n        this.state.flux.removeLinkWithDestination(ev.subject.first().part.data.key)\r\n        this.setState({keyForRerender:Math.random()})\r\n      }\r\n    })\r\n    this.setModelAndDiagram(model, diagram)\r\n  \r\n  }\r\n\r\n  showSendDataModal(){\r\n    this.setState({modalVisible:true})\r\n  }\r\n\r\n  sendData(){\r\n        let contents = this.state.flux.getOrderedContentsFromLinks()\r\n        this.setState({loading:true})\r\n        let contentsToSend = {nombreConjunto:this.state.inputValue, pattern:this.state.pattern, contents:contents}\r\n        axios.post('https://alexa-apirest.herokuapp.com/users/createFlow/user/gonza', contentsToSend)\r\n        .then(() => {this.setState({\r\n          loading:false,success:\"success\", showSend:false})\r\n        })\r\n        .catch((error) => {\r\n          if (error.response && error.response.data) {\r\n            this.setState({\r\n              loading:false,\r\n              error:error.response.data\r\n            }, this.setState({\r\n              error:null\r\n            }))\r\n          }\r\n          else{\r\n            console.log(error)\r\n          }\r\n        })\r\n        this.setState({\r\n          modalVisible:false,\r\n        })\r\n        /* if(this.state.showSend){\r\n          axios.put('https://alexa-apirest.herokuapp.com/users/updateFlow/user/gonza', contentsToSend).then(() => {\r\n            this.setState({loading:false,success:\"success\",showSend:false})\r\n            this.state.myDiagram.div = null;\r\n          })\r\n          .catch((error) => {\r\n            error.response && error.response.data ? \r\n            this.setState({loading:false,error:error.response.data})\r\n            :\r\n            console.log(error)\r\n          })\r\n        }else{ */\r\n        /* } */\r\n  }\r\n  \r\n  setModelAndDiagram(model, diagram){\r\n    diagram.model = new go.GraphLinksModel([],[]);\r\n    diagram.nodeTemplate = this.generateNodeTemplate()\r\n    diagram.linkTemplate = this.generateLinkTemplate()\r\n    diagram.validCycle = go.Diagram.CycleDestinationTree;\r\n    this.setState({\r\n      myModel: model, \r\n      myDiagram: diagram\r\n    })    \r\n  }\r\n  \r\n  onDiagramEnter(event){\r\n    event.preventDefault();\r\n  }\r\n\r\n  getFluxContent(content){\r\n    return new FluxContent(content.identificador, content.contentId, content.categoria, content.order)\r\n  }\r\n\r\n  getDroppableContent(properties){ //crea el content object\r\n    let parsedContent1 = JSON.parse(properties[0].type)\r\n    let parsedContent2 = JSON.parse(properties[1].type)\r\n    let parsedContent3 = JSON.parse(properties[2].type)\r\n    let parsedContent4 = JSON.parse(properties[3].type)\r\n    const content = {...parsedContent1,...parsedContent2,...parsedContent3,...parsedContent4}\r\n    return new DroppableContent(content.identificador, content.contentid, content.categoria, content.isnavegable ) \r\n  }\r\n\r\n  isNotInDiagram(content){ //if the content is not in the diagram\r\n    return !this.state.addedContents.some(addedContent => JSON.stringify(addedContent.getIdContent()) === JSON.stringify(content.getIdContent()))\r\n  }\r\n\r\n\r\n  doesLinkApplies(link, oldContents){ //if the new link is related with any of the previous contents, then it should not be added\r\n    return !oldContents.some( content => link.origin.toLowerCase() === content.getName().toLowerCase() ||  link.destination.toLowerCase() === content.getName().toLowerCase() )\r\n  }\r\n\r\n  addContentToGoJsDiagram(content, fluxName, point){ //creates the content in the apps diagram\r\n    this.state.myDiagram.startTransaction('new node');\r\n    this.state.myDiagram.model.addNodeData({\r\n      key:content.getName(),\r\n      location:point,\r\n      identificador:fluxName !== \"\" ? fluxName + \" - \" + content.getName() : content.getName(),\r\n      color:go.Brush.randomColor()}\r\n      )\r\n      this.state.myDiagram.commitTransaction('new node');\r\n  }\r\n\r\n  addLinkToGoJsDiagram(link){ //creates the link in the apps diagram\r\n    this.state.myDiagram.startTransaction('new link');\r\n    this.state.myDiagram.model.addLinkDataCollection([{\r\n      from:link.origin,\r\n      to:link.destination\r\n    }])\r\n    this.state.myDiagram.commitTransaction('new link');\r\n  }\r\n\r\n\r\n  addContentsManually(flux){\r\n    let newFlux = new Flux(flux.name);\r\n    const oldContents = this.state.addedContents\r\n    flux.getOrderedContentsFromOrderField().map( (content, i) => {\r\n      if (this.isNotInDiagram(content)) {\r\n        newFlux.addContent(content)\r\n        let point = this.state.myDiagram.transformViewToDoc(new go.Point(300 + i * 100 , 100 + (i * 100)));\r\n        this.addContentToGoJsDiagram(content,flux.name,point) //adds the content to the actual Diagram\r\n        this.setState(prevState => ({\r\n          addedContents:[...prevState.addedContents, content]\r\n        }))\r\n      }\r\n    })\r\n    flux.getOrderedLinksFromContentsOrder().map(link => {\r\n      if (this.doesLinkApplies(link,oldContents)) {\r\n        this.addLinkToGoJsDiagram(link)\r\n        newFlux.addLink(link)\r\n      }\r\n    })\r\n    if (this.state.flux) {\r\n      this.state.flux.contents.map( content => newFlux.addContent(content))\r\n      this.state.flux.links.map(link => newFlux.addLink(link))\r\n    }\r\n    this.setState({\r\n      flux:newFlux,\r\n      inputValue:flux.name\r\n    })\r\n  }\r\n\r\n  calculateDroppedPoint(event){\r\n    window.PIXELRATIO = this.state.myDiagram.computePixelRatio();\r\n    let pixelratio = window.PIXELRATIO;\r\n    let can = event.target;\r\n    // if the target is not the canvas, we may have trouble, so just quit:\r\n    if (!(can instanceof HTMLCanvasElement)) return;\r\n    var bbox = can.getBoundingClientRect();\r\n    var bbw = bbox.width;\r\n    if (bbw === 0) bbw = 0.001;\r\n    var bbh = bbox.height;\r\n    if (bbh === 0) bbh = 0.001;\r\n    var mx = event.clientX - bbox.left * ((can.width/pixelratio) / bbw);\r\n    var my = event.clientY - bbox.top * ((can.height/pixelratio) / bbh);\r\n    return this.state.myDiagram.transformViewToDoc(new go.Point(mx, my));\r\n  }\r\n  \r\n  \r\n  onDiagramDrop(event){\r\n    let content = this.getDroppableContent(event.dataTransfer.items)\r\n    if (this.isNotInDiagram(content)) { \r\n      if (this.state.flux === null) { //if a flux is not being edited in the application\r\n        let newFlux = new Flux('new flux');\r\n        newFlux.addContent(content)\r\n        this.setState({flux: newFlux})\r\n      }\r\n      else{ //if there is already a flux being edited\r\n        this.state.flux.addContent(content)\r\n      }\r\n      let point = this.calculateDroppedPoint(event); //calculates the drop event point\r\n      let {contents} = this.state\r\n      contents.push(content)\r\n      this.setState({contents})    \r\n      this.addContentToGoJsDiagram(content, \"\", point) //inserts the content in the diagram\r\n      this.setState(prevState => ({\r\n        addedContents:[...prevState.addedContents, content]\r\n      }))\r\n    }\r\n  }\r\n\r\n  onDragOver(event){\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n  }\r\n\r\n  success = () => {\r\n    message.success('A new flow was created!', 3 , function(){\r\n      window.location.reload()\r\n    });   \r\n  };\r\n\r\n  error = () => {\r\n    message.error('An error occurred when trying to create a new flow', 3);\r\n  };\r\n  \r\n  onChangeInput(e){\r\n    this.setState({inputValue:e.target.value})\r\n  }\r\n\r\n  onChangeInputText = (e) =>{\r\n    this.setState({inputValueText:e.target.value})\r\n  }\r\n\r\n  onChangeRadioLink = (e) =>{\r\n    this.setState({\r\n      valueRadioLink:e.target.value\r\n    })\r\n  }\r\n  \r\n  onChangeRadioNode = (e) =>{\r\n    this.setState({\r\n      valueRadioNode:e.target.value\r\n    })\r\n  }\r\n\r\n  onChangeCheckNode = (checkedValue) => {\r\n  }\r\n  onChangeCheckLink = (checkedValue) => {\r\n    this.setState({\r\n      valueCheck:checkedValue.target.checked\r\n    })\r\n  }\r\n\r\n  confirmNodeModal = () =>{\r\n    //Asociar nodo con info del modal: meter en un array toda la info de los nodos, cada uno con un identificador del nodo\r\n    let contentNode = this.state.temporaryContent //name del nodo\r\n    this.state.flux.getContentByName(contentNode).setData({read:this.state.valueRadioNode})\r\n    this.setState({\r\n      modalNodeVisible:false,\r\n      temporaryContent:null,\r\n      valueRadioNode:null\r\n    })\r\n  }\r\n\r\n  confirmLinkModal = () =>{\r\n    //Asociar link con info del modal: meter en un array toda la info de los links, cada uno con un id del link\r\n    let contentNode = this.state.temporaryLink //link.destination\r\n    this.state.flux.getContentByName(contentNode).setData({\r\n      metainfo:this.state.inputValueText,\r\n      next:this.state.valueRadioLink\r\n    })\r\n    this.setState({\r\n      modalLinkVisible:false,\r\n      inputValueText:null,\r\n      temporaryLink:null\r\n  \t})\r\n  }\r\n\r\n  nodeModal(){\r\n    const radioStyle = {\r\n      display: 'block',\r\n      height: '30px',\r\n      lineHeight: '30px',\r\n    };\r\n    const RadioGroup = Radio.Group;\r\n    return(\r\n      <Modal\r\n        title=\"Node\"\r\n        centered = {true}\r\n        visible={this.state.modalNodeVisible}\r\n        onOk={this.confirmNodeModal}\r\n        onCancel={() => this.setState({modalNodeVisible:false,valueRadioNode:null,temporaryContent:null})}>\r\n        <div>\r\n          <p>Reading:</p>\r\n          <Checkbox onChange={this.onChangeCheckNode}>\r\n              'Ask for browse'\r\n          </Checkbox>\r\n          <br></br>\r\n          <RadioGroup onChange={this.onChangeRadioNode} value={this.state.valueRadioNode}>\r\n            <Radio style={radioStyle} value={\"Title\"}>Only title</Radio>\r\n            <Radio style={radioStyle} value={\"All\"}>Title,introduction and content</Radio>\r\n          </RadioGroup>\r\n        </div>             \r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  linkModal(){\r\n    const RadioGroup = Radio.Group;\r\n    const radioStyle = {\r\n      display: 'block',\r\n      height: '30px',\r\n      lineHeight: '30px',\r\n    };\r\n    return(\r\n      <Modal\r\n      title=\"Link\"\r\n      visible={this.state.modalLinkVisible}\r\n      onOk={this.confirmLinkModal}\r\n      onCancel={() => this.setState({modalLinkVisible:false})}>\r\n      <div>\r\n        <p>How to continue?</p>\r\n        <Checkbox onChange={this.onChangeCheckLink}>\r\n            Read text previosly\r\n            {this.state.valueCheck === true ? <Input placeholder=\"Insert text\" onChange={this.onChangeInputText} style={{ width: 100, marginLeft: 10 }} /> : null}\r\n        </Checkbox>\r\n        <br></br>\r\n        <RadioGroup onChange={this.onChangeRadioLink} value={this.state.valueRadioLink}>\r\n          <Radio style={radioStyle} value={\"Read directly\"}>Read the next content directly</Radio>\r\n          <Radio style={radioStyle} value={\"Ask\"}>Ask for reading next</Radio>\r\n        </RadioGroup>\r\n      </div>\r\n    </Modal>\r\n    )\r\n  }\r\n  \r\n  submitModal(){\r\n    const customPanelStyle = {\r\n      background: '#f7f7f7',\r\n      borderRadius: 4,\r\n      marginBottom: 24,\r\n      border: 0,\r\n      overflow: 'hidden',\r\n      marginTop:\"20px\"\r\n    };\r\n    const {Option} = Select\r\n    const {Panel} = Collapse;\r\n    return(\r\n      <Modal\r\n        title=\"Confirm your action\"\r\n        visible={this.state.modalVisible}\r\n        onOk={this.sendData}\r\n        onCancel={() => this.setState({modalVisible:false})}>\r\n          <div>\r\n            Please, enter a name for the set of contents to send\r\n            <Input value={this.state.inputValue} style={{width:\"100px\", marginLeft:\"170px\",marginTop:\"20px\"}} onChange={this.onChangeInput}></Input> \r\n            <p> Select a content reading pattern </p>\r\n            <Select value={this.state.pattern? this.state.pattern : undefined} placeholder=\"Content reading pattern\" onChange={(e) => this.handlePattern(e)} style={{width:\"230px\", marginLeft:\"130px\"}}>\r\n              {this.state.patterns.map( (pattern, index) => \r\n                <Option \r\n                  key={index}   \r\n                  value={pattern}>\r\n                    {pattern}\r\n                </Option>\r\n              )}\r\n            </Select>\r\n            { this.state.pattern &&\r\n              <Collapse bordered={false} defaultActiveKey={['1']} expandIcon={({ isActive }) => <Icon type=\"caret-right\" rotate={isActive ? 90 : 0}> </Icon>}>                \r\n                <Panel header={this.state.pattern} key=\"1\" style={customPanelStyle}>\r\n                  <p style={{ paddingLeft: 24 }}> {this.state.infoPatterns[this.state.index]} </p>\r\n                </Panel>\r\n              </Collapse>\r\n            }\r\n          </div>\r\n      </Modal>\r\n    )\r\n  }  \r\n\r\n  render () {\r\n    console.log(this.state.flux)\r\n    const goJsStyle = {'width': '116%','height': '874px', 'backgroundColor': \"white\",'marginLeft':\"-16%\"}\r\n    return(\r\n      <div>\r\n        {this.state.loading && <div className=\"example\"><Spin className=\"diagram-spin\" size=\"large\"/></div>}\r\n        <div onDragEnter={this.onDiagramEnter}  className=\"diagram\" onDrop={this.onDiagramDrop} onDragOver={this.onDragOver}>\r\n          <div  ref=\"goJsDiv\" style={goJsStyle}></div>\r\n        </div>\r\n        <div className=\"sendButtonContainer\">{ this.state.success ? this.success() : null }\r\n          <Button \r\n          className=\"sendButton\"         \r\n          onClick={this.showSendDataModal} key={this.state.keyForRerender} \r\n          disabled={!this.state.flux || (this.state.flux && this.state.flux.contents.length !== (this.state.flux.links.length + 1))}> \r\n            Deploy to skill \r\n          </Button>\r\n          {this.state.error && this.error()}\r\n        </div>\r\n        {this.nodeModal()}\r\n        {this.linkModal()}\r\n        {this.submitModal()}\r\n      </div>\r\n    ) \r\n  }\r\n}","import React from 'react'\r\nimport {Layout} from 'antd'\r\nimport LeftPanel from './LeftPanel'\r\n// import RightPanel from './RightPanel'\r\nimport Diagram from './Diagram'\r\nimport axios from 'axios'\r\nimport Flux from '../classes/Flux'\r\n\r\nexport default class ContentAdmin extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      showFluxContent: false,\r\n      diagramFluxId: false,\r\n      categories: [],\r\n      contents:[],\r\n      fluxes:[]\r\n    }\r\n    this.changeContents = this.changeContents.bind(this)\r\n    this.addFluxToDiagram = this.addFluxToDiagram.bind(this)\r\n  }\r\n\r\n  componentDidMount(){\r\n    axios.get(\"https://alexa-apirest.herokuapp.com/users/categories/gonza\").then( (response) => {\r\n      if (response.data.length > 0) this.setState({categories:response.data}) \r\n    });\r\n\r\n    axios.get(\"https://alexa-apirest.herokuapp.com/users/admin/contentsByFirstCategory/gonza\").then( (response) => {\r\n      if (response.data.length > 0) this.setState({contents:response.data})  \r\n    });\r\n    axios.get(\"https://alexa-apirest.herokuapp.com/users/admin/contentsAndFlows/gonza\").then( (response) => {\r\n      let fluxes;\r\n      if (response.data.length > 0) {\r\n        fluxes = response.data.map(flux => {\r\n          return new Flux(flux._id, flux.contenidos)\r\n        })\r\n      }\r\n      this.setState({fluxes})  \r\n  })    \r\n  }\r\n\r\n  changeContents(newContents){\r\n    this.setState({contents:newContents})\r\n  }\r\n\r\n  addFluxToDiagram(flux){\r\n    this.setState({\r\n      showFluxContent:true,\r\n      diagramFlux: flux\r\n    })\r\n  }\r\n  \r\n  render(){\r\n\r\n    const {Header, Sider, Content} = Layout;\r\n       \r\n    return(\r\n      <div>\r\n        <Layout style={{height:\"1000px\"}}>\r\n        <Sider>\r\n          {this.state.contents.length > 0 && \r\n            <LeftPanel\r\n              changeContents={this.changeContents}\r\n              contents={this.state.contents}\r\n              fluxes={this.state.fluxes}\r\n              addFluxToDiagram={this.addFluxToDiagram}\r\n              categories={this.state.categories}\r\n              />\r\n          }\r\n        </Sider>\r\n        <Layout>\r\n          <Header style={{color:\"white\",fontSize:\"20px\"}}>Skill contents administrator</Header>\r\n          <Content>\r\n            <Diagram\r\n              shouldShowFlux={this.state.showFluxContent}\r\n              flux={this.state.diagramFlux}\r\n            />\r\n          </Content>\r\n        </Layout>\r\n        <Sider>\r\n        </Sider>\r\n      </Layout>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React, { Component } from 'react';\r\nimport ContentAdmin from './ContentAdmin';\r\nimport logo from '../logo.svg';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <ContentAdmin/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}